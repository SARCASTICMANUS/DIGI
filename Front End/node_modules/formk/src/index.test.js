import React from "react";
import { render } from "@testing-library/react";
import formk from "./index";

test("forwardRef", () => {
  const { Form, Field } = formk();
  const initialValue = { name: "ging", age: 100 };
  const formRef = {};
  const fieldRef = {};
  const App = () => {
    return (
      <Form initialValue={initialValue} ref={formRef}>
        <Field name="name" ref={fieldRef} />
        <Field name="age" />
      </Form>
    );
  };
  render(<App />);

  expect(formRef.current.render).not.toBeUndefined();
  expect(fieldRef.current.name).toEqual(["name"]);
});
